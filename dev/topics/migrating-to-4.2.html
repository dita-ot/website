---
# Generated from DITA source
layout: 'base'
title: 'Migrating to release 4.2'
description: 'DITA-OT 4.2 uses map-first pre-processing for HTML5 output and includes a new local
      configuration file, better CLI messages with support for overrides, a new version of the Lightweight DITA plug-in
      with enhancements to Markdown processing, and updates for the latest DITA 2.0 draft standard.'
index: '../toc.html'
commit: 'd3bde7940dc9caf5ab977fcc45fd9e5814cfdb99'
src: 'topics/migrating-to-4.2.dita'
---

<nav class="col-lg-3 toc" role="navigation"><ul><li><a href="../index.html">DITA Open Toolkit 4.3</a></li><li><a href="../topics/installing.html">Installing</a></li><li><a href="../topics/publishing.html">Publishing</a></li><li><a href="../parameters/index.html">Configuring</a></li><li><a href="../topics/extending.html">Extending</a><ul class="nav nav-list"><li><a href="../topics/plugins-installing.html">Installing plug-ins</a></li><li><a href="../topics/plugins-removing.html">Removing plug-ins</a></li><li><a href="../topics/plugins-registry.html">Plug-in registry</a></li><li><a href="../topics/custom-plugins.html">Creating plug-ins</a><ul class="nav nav-list"><li><a href="../topics/plugin-benefits.html">Plug-in benefits</a></li><li><a href="../topics/plugin-configfile.html">Plug-in descriptor file</a></li><li><a href="../topics/plugin-coding-conventions.html">Coding conventions</a></li><li><a href="../topics/plugin-dependencies.html">Plug-in dependencies</a></li><li><a href="../topics/plugin-use-cases.html">Plug-in use cases</a></li><li><a href="../topics/html-customization-plugins.html">Custom HTML plug-ins</a></li><li><a href="../topics/pdf-customization-plugins.html">Custom PDF plug-ins</a></li><li><a href="../topics/globalization.html">Globalizing DITA content</a></li><li><a href="../topics/migration.html">Migrating customizations</a><ul class="nav nav-list"><li><a href="../topics/migrating-to-4.3.html">To 4.3</a></li><li class="active"><a href="../topics/migrating-to-4.2.html">To 4.2</a></li><li><a href="../topics/migrating-to-4.1.html">To 4.1</a></li><li><a href="../topics/migrating-to-4.0.html">To 4.0</a></li><li><a href="../topics/migrating-to-3.7.html">To 3.7</a></li><li><a href="../topics/migrating-to-3.6.html">To 3.6</a></li><li><a href="../topics/migrating-to-3.5.html">To 3.5</a></li><li><a href="../topics/migrating-to-3.4.html">To 3.4</a></li><li><a href="../topics/migrating-to-3.3.html">To 3.3</a></li><li><a href="../topics/migrating-to-3.2.html">To 3.2</a></li><li><a href="../topics/migrating-to-3.1.html">To 3.1</a></li><li><a href="../topics/migrating-to-3.0.html">To 3.0</a></li><li><a href="../topics/migrating-to-2.5.html">To 2.5</a></li><li><a href="../topics/migrating-to-2.4.html">To 2.4</a></li><li><a href="../topics/migrating-to-2.3.html">To 2.3</a></li><li><a href="../topics/migrating-to-2.2.html">To 2.2</a></li><li><a href="../topics/migrating-to-2.1.html">To 2.1</a></li><li><a href="../topics/migrating-to-2.0.html">To 2.0</a></li><li><a href="../topics/migrating-to-1.8.html">To 1.8</a></li><li><a href="../topics/migrating-to-1.7.html">To 1.7</a></li><li><a href="../topics/migrating-to-1.6.html">To 1.6</a></li><li><a href="../topics/migrating-to-1.5.4.html">To 1.5.4</a></li></ul></li></ul></li><li><a href="../topics/rebuilding-docs.html">Rebuilding documentation</a></li></ul></li><li><a href="../topics/troubleshooting-overview.html">Troubleshooting</a></li><li><a href="../reference/index.html">Reference</a></li></ul></nav><main role="main" class="col-lg-9"><article role="article" aria-labelledby="ariaid-title1">

  <h1 class="title topictitle1" id="ariaid-title1">Migrating to release 4.2</h1>
  

  

  

  <div class="body refbody"><p class="shortdesc">DITA-OT 4.2 <span class="ph" id="migrating-to-4.2__summary">uses map-first pre-processing for HTML5 output and includes a new local
      configuration file, better CLI messages with support for overrides, a new version of the Lightweight DITA plug-in
      with enhancements to Markdown processing, and updates for the latest DITA 2.0 draft standard.</span></p>
    <section class="section">
      <div class="note note note_note"><span class="note__title">Note:</span> <div class="note__body">This topic provides a summary of changes in DITA-OT 4.2 that may require modifications to custom stylesheets
        or plug-ins. For more information on changes in this release, see the
        <a class="xref" href="https://www.dita-ot.org/4.2/release-notes/" target="_blank" rel="external noopener">DITA-OT 4.2 Release Notes</a>.</div></div>
    </section>

    <section class="section" id="migrating-to-4.2__4.2-css"><h2 class="title sectiontitle">Common CSS changes</h2>
      
      
      
      
      
      
      
      <p class="p">DITA-OT 4.2 includes several changes to the cascading style sheets generated by the HTML5 plug-in.</p>
      <ul class="ul">
        <li class="li" id="migrating-to-4.2__3955">HTML5 processing for <code class="keyword markupname xmlelement">&lt;note&gt;</code> elements now wraps the note body in a
            <code class="keyword markupname xmlelement">&lt;div&gt;</code> element with the <code class="ph codeph">note__body</code> class, allowing it to be styled
          separately from the note title. For backwards compatibility, the common CSS files have been updated to display
          the note body inline with the note title to avoid a new line break before the content division element.
          <a class="xref" href="https://github.com/dita-ot/dita-ot/issues/3955" target="_blank" rel="external noopener">#3955</a>
        </li>
        <li class="li" id="migrating-to-4.2__4298">The DITA standard defines a <code class="keyword markupname xmlatt">@compact</code> attribute for list elements. Previously, this
          attribute was published to XHTML and HTML5 as an HTML <code class="keyword markupname xmlatt">@compact</code> attribute. However, the
            <code class="keyword markupname xmlatt">@compact</code> attribute was deprecated in HTML4 (over 20 years ago). Now, DITA
            <code class="keyword markupname xmlatt">@compact</code> attributes are published to XHTML and HTML5 as <code class="keyword markupname xmlatt">@class="compact"</code>
          keywords. New rules with the class selectors have been added to the default CSS files. Rules with the legacy
            <code class="keyword markupname xmlatt">@compact</code> list attributes have been marked as deprecated with Sass <code class="keyword markupname xmlatt">@warn</code>
          rules and will be removed from a future version of DITA-OT. Any custom CSS rules referencing the
            <code class="keyword markupname xmlatt">@compact</code> attribute should be updated.
          <a class="xref" href="https://github.com/dita-ot/dita-ot/issues/4298" target="_blank" rel="external noopener">#4298</a>,
          <a class="xref" href="https://github.com/dita-ot/dita-ot/issues/4303" target="_blank" rel="external noopener">#4303</a>,
          <a class="xref" href="https://github.com/dita-ot/dita-ot/issues/4358" target="_blank" rel="external noopener">#4358</a>
        </li>
        <li class="li" id="migrating-to-4.2__4364">Legacy table presentation classes that were deprecated in DITA-OT 2.3 have now been removed from
          the common CSS files.
          <a class="xref" href="https://github.com/dita-ot/dita-ot/issues/4364" target="_blank" rel="external noopener">#4364</a>
          <ul class="ul">
            <li class="li"><code class="ph codeph">cellrowborder</code></li>
            <li class="li"><code class="ph codeph">row-nocellborder</code></li>
            <li class="li"><code class="ph codeph">cell-norowborder</code></li>
            <li class="li"><code class="ph codeph">nocellnorowborder</code></li>
            <li class="li"><code class="ph codeph">firstcol</code></li>
          </ul>
        </li>
      </ul>
      <div class="note attention note_attention"><span class="note__title">Attention:</span> <div class="note__body">In publishing environments that do not use the default CSS files — or those that include
        HTML generated by older versions of DITA-OT — these styles may need to be implemented in custom
        stylesheets.</div></div>
    </section>

    <section class="section"><h2 class="title sectiontitle">Upgrade stylesheets to XSLT3</h2>
      
      
      
      
      
      
      
      <p class="p">DITA-OT 4.2 updates XSLT stylesheet headers from XSLT version 1.0 and 2.0 to version 3.0 to make way for the
        use of XSLT3 features in future toolkit versions.</p>
      <p class="p">This is a backwards-compatible change, as there are no changes to the actual code; only the stylesheet headers
        have been modified for now. This approach has been chosen to help identify any external or third-party
        incompatibilities that might result from switching to XSLT3.</p>
      <div class="note attention note_attention"><span class="note__title">Attention:</span> <div class="note__body">The next major version of DITA-OT will upgrade template content to use XSLT3 syntax.</div></div>
      <p class="p">To ensure plug-ins remain compatible with future versions of DITA-OT and Saxon-HE, the DITA Open Toolkit
        project recommends upgrading all stylesheets to XSLT 3.0.</p>
      <p class="p">Change any occurrences of <code class="keyword markupname xmlelement">&lt;xsl:stylesheet version="1.0"&gt;</code> or <code class="keyword markupname xmlelement">&lt;xsl:stylesheet
          version="2.0"&gt;</code> in custom plug-in stylesheets to at least <code class="keyword markupname xmlelement">&lt;xsl:stylesheet
          version="3.0"&gt;</code>.</p>
    </section>

    <section class="section" id="migrating-to-4.2__map-first"><h2 class="title sectiontitle">Map-first pre-processing</h2>
      
      <p class="p"><span class="ph">DITA-OT provides a map-first pre-processing option as an alternative to the
      default <code class="ph codeph">preprocess</code> operation. The method, which was introduced in DITA-OT 2.5 as an experimental
      feature, has since been improved and is ready for use in production scenarios. Map-first pre-processing provides
      the same functionality as the default <code class="ph codeph">preprocess</code>, but takes a different
    approach.</span></p>
      <p class="p">The internal extension points that run before or after individual steps in the
        original <code class="ph codeph">preprocess</code> pipeline (<code class="ph codeph">preprocess.*.pre/preprocess.*.post</code>) are not
        available in the newer map-first pre-processing pipeline (<code class="ph codeph">preprocess2</code>), which is used in the PDF
        and HTML Help transformations as of DITA-OT 3.0, and in HTML5 and Normalized DITA output as of DITA-OT 4.2.</p>
      <div class="note tip note_tip"><span class="note__title">Tip:</span> <div class="note__body">See
        <a class="xref" href="../reference/map-first-preprocessing.html" title="DITA-OT provides a map-first pre-processing option as an alternative to the default preprocess operation. The method, which was introduced in DITA-OT 2.5 as an experimental feature, has since been improved and is ready for use in production scenarios. Map-first pre-processing provides the same functionality as the default preprocess, but takes a different approach.">Map-first pre-processing</a> for information on how to use (or test) map-first pre-processing, or revert to
        the legacy <code class="ph codeph">preprocess</code> target.</div></div>
    </section>

  </div>
</article></main>
